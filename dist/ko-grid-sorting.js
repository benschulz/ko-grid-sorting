/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function l(g){return function(d){return d}(function(d,h){function k(m,d){this.comparator=m;this.a=d||new k(function(e,d){return m(d,e)},this)}h.defineExtension("ko-grid-sorting",{a:function(d,h,e){function n(a){a===b?(f="ascending"===f?"descending":"ascending",c=c.reverse()):(b&&b.headerClasses.removeAll(["ascending-order","descending-order"]),b=a,f="ascending",c=new k(g(a)));a.headerClasses(b.headerClasses().filter(function(a){return"ascending-order"!==a&&"descending-order"!==a}).concat(["ascending"===
f?"ascending-order":"descending-order"]));e.data.comparator(c.comparator)}function p(a){return(a=e.data.valueSelector(a))&&"function"===typeof a.valueOf?a.valueOf():a}function g(a){return function(d,e){var b=p(d[a.property]),c=p(e[a.property]);return null===b&&null===c?0:null===b?-1:null===c?1:"string"===typeof b&&"string"===typeof c?b.localeCompare(c):b<=c?b<c?-1:0:1}}var b,f,c;(d=d.initiallyBy)&&n(e.columns.byId(d));e.headers.onColumnHeaderClick(function(a,b){a.defaultPrevented||(a.preventDefault(),
n(b.column))});var q=e.data.comparator.subscribe(function(a){b&&(a!==c.comparator&&(b.headerClasses.removeAll(["ascending-order","descending-order"]),b=f=c=null),e.layout.recalculate())});this.dispose=function(){q.dispose()}}});k.prototype={reverse:function(){return this.a}};return h.declareExtensionAlias("sorting","ko-grid-sorting")}({},g))}"function"===typeof define&&define.amd?define(["ko-grid","ko-data-source","ko-indexed-repeat","knockout"],l):window["ko-grid-sorting"]=l(window.ko.bindingHandlers.grid);
